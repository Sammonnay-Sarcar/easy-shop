{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState, useEffect } from 'react';\nimport Image from \"react-native-web/dist/exports/Image\";\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport { Left, Right, Container, H1 } from 'native-base';\nimport Toast from 'react-native-toast-message';\nimport EasyButton from \"../../Shared/StyledComponents/EasyButton\";\nimport TrafficLight from \"../../Shared/StyledComponents/TrafficLight\";\nimport { connect } from 'react-redux';\nimport * as actions from \"../../Redux/Actions/cartActions\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nvar SingleProduct = function SingleProduct(props) {\n  var _useState = useState(props.route.params.item),\n      _useState2 = _slicedToArray(_useState, 2),\n      item = _useState2[0],\n      setItem = _useState2[1];\n\n  var _useState3 = useState(null),\n      _useState4 = _slicedToArray(_useState3, 2),\n      availability = _useState4[0],\n      setAvailability = _useState4[1];\n\n  var _useState5 = useState(\"\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      availabilityText = _useState6[0],\n      setAvailabilityText = _useState6[1];\n\n  useEffect(function () {\n    if (props.route.params.item.countInStock == 0) {\n      setAvailability(_jsx(TrafficLight, {\n        unavailable: true\n      }));\n      setAvailabilityText(\"Unvailable\");\n    } else if (props.route.params.item.countInStock <= 5) {\n      setAvailability(_jsx(TrafficLight, {\n        limited: true\n      }));\n      setAvailabilityText(\"Limited Stock\");\n    } else {\n      setAvailability(_jsx(TrafficLight, {\n        available: true\n      }));\n      setAvailabilityText(\"Available\");\n    }\n\n    return function () {\n      setAvailability(null);\n      setAvailabilityText(\"\");\n    };\n  }, []);\n  return _jsxs(Container, {\n    style: styles.container,\n    children: [_jsxs(ScrollView, {\n      style: {\n        marginBottom: 80,\n        padding: 5\n      },\n      children: [_jsx(View, {\n        children: _jsx(Image, {\n          source: {\n            uri: item.image ? item.image : 'https://cdn.pixabay.com/photo/2012/04/01/17/29/box-23649_960_720.png'\n          },\n          resizeMode: \"contain\",\n          style: styles.image\n        })\n      }), _jsxs(View, {\n        style: styles.contentContainer,\n        children: [_jsx(H1, {\n          style: styles.contentHeader,\n          children: item.name\n        }), _jsx(Text, {\n          style: styles.contentText,\n          children: item.brand\n        })]\n      }), _jsxs(View, {\n        style: styles.availabilityContainer,\n        children: [_jsxs(View, {\n          style: styles.availability,\n          children: [_jsxs(Text, {\n            style: {\n              marginRight: 10\n            },\n            children: [\"Availability: \", availabilityText]\n          }), availability]\n        }), _jsx(Text, {\n          children: item.description\n        })]\n      })]\n    }), _jsxs(View, {\n      style: styles.bottomContainer,\n      children: [_jsx(Left, {\n        children: _jsxs(Text, {\n          style: styles.price,\n          children: [\"$ \", item.price]\n        })\n      }), _jsx(Right, {\n        children: _jsx(EasyButton, {\n          primary: true,\n          medium: true,\n          onPress: function onPress() {\n            props.addItemToCart(item.id), Toast.show({\n              topOffset: 60,\n              type: \"success\",\n              text1: item.name + \" added to Cart\",\n              text2: \"Go to your cart to complete order\"\n            });\n          },\n          children: _jsx(Text, {\n            style: {\n              color: 'white'\n            },\n            children: \"Add\"\n          })\n        })\n      })]\n    })]\n  });\n};\n\nvar mapToDispatchToProps = function mapToDispatchToProps(dispatch) {\n  return {\n    addItemToCart: function addItemToCart(product) {\n      return dispatch(actions.addToCart({\n        quantity: 1,\n        product: product\n      }));\n    }\n  };\n};\n\nvar styles = StyleSheet.create({\n  container: {\n    position: 'relative',\n    height: '100%'\n  },\n  imageContainer: {\n    backgroundColor: 'white',\n    padding: 0,\n    margin: 0\n  },\n  image: {\n    width: '100%',\n    height: 250\n  },\n  contentContainer: {\n    marginTop: 20,\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  contentHeader: {\n    fontWeight: 'bold',\n    marginBottom: 20\n  },\n  contentText: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    marginBottom: 20\n  },\n  bottomContainer: {\n    flexDirection: 'row',\n    position: 'absolute',\n    bottom: 0,\n    left: 0,\n    backgroundColor: 'white'\n  },\n  price: {\n    fontSize: 24,\n    margin: 20,\n    color: 'red'\n  },\n  availabilityContainer: {\n    marginBottom: 20,\n    alignItems: \"center\"\n  },\n  availability: {\n    flexDirection: 'row',\n    marginBottom: 10\n  }\n});\nexport default connect(null, mapToDispatchToProps)(SingleProduct);","map":{"version":3,"names":["React","useState","useEffect","Left","Right","Container","H1","Toast","EasyButton","TrafficLight","connect","actions","SingleProduct","props","route","params","item","setItem","availability","setAvailability","availabilityText","setAvailabilityText","countInStock","styles","container","marginBottom","padding","uri","image","contentContainer","contentHeader","name","contentText","brand","availabilityContainer","marginRight","description","bottomContainer","price","addItemToCart","id","show","topOffset","type","text1","text2","color","mapToDispatchToProps","dispatch","product","addToCart","quantity","StyleSheet","create","position","height","imageContainer","backgroundColor","margin","width","marginTop","justifyContent","alignItems","fontWeight","fontSize","flexDirection","bottom","left"],"sources":["D:/easy-shop-frontend-master/Screens/Products/SingleProduct.js"],"sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { Image, View, StyleSheet, Text, ScrollView, Button } from 'react-native';\nimport { Left, Right, Container, H1 } from 'native-base';\nimport Toast from 'react-native-toast-message';\nimport EasyButton from '../../Shared/StyledComponents/EasyButton'\nimport TrafficLight from '../../Shared/StyledComponents/TrafficLight'\n\nimport { connect } from 'react-redux';\nimport * as actions from '../../Redux/Actions/cartActions';\n\nconst SingleProduct = (props) => {\n\n    const [item, setItem] = useState(props.route.params.item);\n    const [availability, setAvailability] = useState(null);\n    const [availabilityText, setAvailabilityText] = useState(\"\")\n\n    useEffect(() => {\n        if (props.route.params.item.countInStock == 0) {\n            setAvailability(<TrafficLight unavailable></TrafficLight>);\n            setAvailabilityText(\"Unvailable\")\n        } else if (props.route.params.item.countInStock <= 5) {\n            setAvailability(<TrafficLight limited></TrafficLight>);\n            setAvailabilityText(\"Limited Stock\")\n        } else {\n            setAvailability(<TrafficLight available></TrafficLight>);\n            setAvailabilityText(\"Available\")\n        }\n\n        return () => {\n            setAvailability(null);\n            setAvailabilityText(\"\");\n        }\n    }, [])\n\n    return (\n        <Container style={styles.container}>\n            <ScrollView style={{ marginBottom: 80, padding: 5 }}>\n                <View>\n                    <Image \n                        source={{\n                            uri: item.image ? item.image \n                            : 'https://cdn.pixabay.com/photo/2012/04/01/17/29/box-23649_960_720.png'\n                        }}\n                        resizeMode=\"contain\"\n                        style={styles.image}\n                    />\n                </View>\n                <View style={styles.contentContainer}>\n                    <H1 style={styles.contentHeader}>{item.name}</H1>\n                    <Text style={styles.contentText}>{item.brand}</Text>\n                </View>\n                <View style={styles.availabilityContainer}>\n                    <View style={styles.availability}>\n                        <Text style={{ marginRight: 10 }}>\n                            Availability: {availabilityText}\n                        </Text>\n                        {availability}\n                    </View>\n                    <Text>{item.description}</Text>\n                </View>\n            </ScrollView>\n\n            <View style={styles.bottomContainer}>\n                <Left>\n                    <Text style={styles.price}>$ {item.price}</Text>\n                </Left>\n                <Right>\n                   <EasyButton \n                   primary\n                   medium\n                   onPress={() => {props.addItemToCart(item.id),\n                        Toast.show({\n                            topOffset: 60,\n                            type: \"success\",\n                            text1: `${item.name} added to Cart`,\n                            text2: \"Go to your cart to complete order\"\n                        })\n                }}\n                   >\n                       <Text style={{ color: 'white'}}>Add</Text>\n                   </EasyButton>\n                </Right>\n            </View>\n        </Container>\n    )\n\n}\n\nconst mapToDispatchToProps = (dispatch) => {\n    return {\n        addItemToCart: (product) => \n            dispatch(actions.addToCart({quantity: 1, product}))\n    }\n}\n\nconst styles = StyleSheet.create({\n    container: {\n        position: 'relative',\n        height: '100%'\n    },\n    imageContainer: {\n        backgroundColor: 'white',\n        padding: 0,\n        margin: 0\n    },\n    image: {\n        width: '100%',\n        height: 250\n    },\n    contentContainer: {\n        marginTop: 20,\n        justifyContent: 'center',\n        alignItems: 'center'\n    },\n    contentHeader: {\n        fontWeight: 'bold',\n        marginBottom: 20\n    },\n    contentText: {\n        fontSize: 18,\n        fontWeight: 'bold',\n        marginBottom: 20\n    },\n    bottomContainer: {\n        flexDirection: 'row',\n        position: 'absolute',\n        bottom: 0,\n        left: 0,\n        backgroundColor: 'white'\n    },\n    price: {\n        fontSize: 24,\n        margin: 20,\n        color: 'red'\n    },\n    availabilityContainer: {\n        marginBottom: 20,\n        alignItems: \"center\"\n    },\n    availability: {\n        flexDirection: 'row',\n        marginBottom: 10,\n    }\n})\n\nexport default connect(null, mapToDispatchToProps)(SingleProduct);"],"mappings":"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"},"metadata":{},"sourceType":"module"}